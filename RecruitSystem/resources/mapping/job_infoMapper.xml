<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.chinasofti.dao.Job_infoMapper">
	<resultMap id="BaseResultMap" type="com.chinasofti.model.Job_info">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		<id column="job_id" property="jobId" jdbcType="INTEGER" />
		<result column="job_name" property="jobName" jdbcType="VARCHAR" />
		<result column="job_sal" property="jobSal" jdbcType="VARCHAR" />
		<result column="job_year" property="jobYear" jdbcType="VARCHAR" />
		<result column="job_edu" property="jobEdu" jdbcType="VARCHAR" />
		<result column="job_date" property="jobDate" jdbcType="DATE" />
		<result column="job_welfare" property="jobWelfare" jdbcType="VARCHAR" />
		<result column="job_description" property="jobDescription"
			jdbcType="VARCHAR" />
		<result column="cuser_id" property="cuserId" jdbcType="INTEGER" />
	</resultMap>

	<resultMap id="Job_conn_Company" type="com.chinasofti.model.Job_info">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		<id column="job_id" property="jobId" jdbcType="INTEGER" />
		<result column="job_name" property="jobName" jdbcType="VARCHAR" />
		<result column="job_sal" property="jobSal" jdbcType="VARCHAR" />
		<result column="job_year" property="jobYear" jdbcType="VARCHAR" />
		<result column="job_edu" property="jobEdu" jdbcType="VARCHAR" />
		<result column="job_date" property="jobDate" jdbcType="DATE" />
		<result column="job_welfare" property="jobWelfare" jdbcType="VARCHAR" />
		<result column="job_description" property="jobDescription"
			jdbcType="VARCHAR" />
		<result column="cuser_id" property="cuserId" jdbcType="INTEGER" />
		<association property="company_user" column="cuser_id"
			javaType="com.chinasofti.model.Company_user">
			<id column="cuser_id" property="cuserId" jdbcType="INTEGER" />
			<result column="com_name" property="comName" jdbcType="VARCHAR" />
			<result column="com_field" property="comField" jdbcType="VARCHAR" />
			<result column="com_num" property="comNum" jdbcType="INTEGER" />
			<result column="com_add" property="comAdd" jdbcType="VARCHAR" />
			<result column="com_info" property="comInfo" jdbcType="VARCHAR" />
		</association>
	</resultMap>

	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		job_id, job_name, job_sal, job_year, job_edu, job_date, job_welfare,
		job_description,
		cuser_id
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		select
		<include refid="Base_Column_List" />
		from job_info
		where job_id = #{jobId,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		delete from job_info
		where job_id = #{jobId,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="com.chinasofti.model.Job_info">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		insert into job_info (job_id, job_name, job_sal,
		job_year,
		job_edu,job_date,
		job_welfare, job_description, cuser_id
		)
		values
		(#{jobId,jdbcType=INTEGER}, #{jobName,jdbcType=VARCHAR},
		#{jobSal,jdbcType=VARCHAR}, #{jobYear,jdbcType=VARCHAR},
		#{jobEdu,jdbcType=VARCHAR}, #{jobDate,jdbcType=DATE},
		#{jobWelfare,jdbcType=VARCHAR}, #{jobDescription,jdbcType=VARCHAR},
		#{cuserId,jdbcType=VARCHAR}
		)
	</insert>
	<insert id="insertSelective" parameterType="com.chinasofti.model.Job_info">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		insert into job_info
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="jobId != null">
				job_id,
			</if>
			<if test="jobName != null">
				job_name,
			</if>
			<if test="jobSal != null">
				job_sal,
			</if>
			<if test="jobYear != null">
				job_year,
			</if>
			<if test="jobEdu != null">
				job_edu,
			</if>
			<if test="jobDate != null">
				job_date,
			</if>
			<if test="jobWelfare != null">
				job_welfare,
			</if>
			<if test="jobDescription != null">
				job_description,
			</if>
			<if test="comId != null">
				cuser_id,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="jobId != null">
				#{jobId,jdbcType=INTEGER},
			</if>
			<if test="jobName != null">
				#{jobName,jdbcType=VARCHAR},
			</if>
			<if test="jobSal != null">
				#{jobSal,jdbcType=VARCHAR},
			</if>
			<if test="jobYear != null">
				#{jobYear,jdbcType=VARCHAR},
			</if>
			<if test="jobEdu != null">
				#{jobEdu,jdbcType=VARCHAR},
			</if>
			<if test="jobDate != null">
				#{jobDate,jdbcType=DATE},
			</if>
			<if test="jobWelfare != null">
				#{jobWelfare,jdbcType=VARCHAR},
			</if>
			<if test="jobDescription != null">
				#{jobDescription,jdbcType=VARCHAR},
			</if>
			<if test="comId != null">
				#{comId,jdbcType=INTEGER},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.chinasofti.model.Job_info">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		update job_info
		<set>
			<if test="jobName != null">
				job_name = #{jobName,jdbcType=VARCHAR},
			</if>
			<if test="jobSal != null">
				job_sal = #{jobSal,jdbcType=VARCHAR},
			</if>
			<if test="jobYear != null">
				job_year = #{jobYear,jdbcType=VARCHAR},
			</if>
			<if test="jobEdu != null">
				job_edu = #{jobEdu,jdbcType=VARCHAR},
			</if>
			<if test="jobDate != null">
				job_date = #{jobDate,jdbcType=DATE},
			</if>
			<if test="jobWelfare != null">
				job_welfare = #{jobWelfare,jdbcType=VARCHAR},
			</if>
			<if test="jobDescription != null">
				job_description = #{jobDescription,jdbcType=VARCHAR},
			</if>
			<if test="comId != null">
				cuser_id = #{comId,jdbcType=INTEGER},
			</if>
		</set>
		where job_id = #{jobId,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.chinasofti.model.Job_info">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 18 
			11:12:09 CST 2017. -->
		update job_info
		set job_name = #{jobName,jdbcType=VARCHAR},
		job_sal =
		#{jobSal,jdbcType=VARCHAR},
		job_year = #{jobYear,jdbcType=VARCHAR},
		job_edu = #{jobEdu,jdbcType=VARCHAR},
		job_date =
		#{jobDate,jdbcType=DATE},
		job_welfare = #{jobWelfare,jdbcType=VARCHAR},
		job_description = #{jobDescription,jdbcType=VARCHAR},
		cuser_id =
		#{cuserId,jdbcType=INTEGER}
		where job_id = #{jobId,jdbcType=INTEGER}
	</update>

	<select id="selectAll" resultMap="Job_conn_Company">
		select e.*,f.* from job_info
		e,company_user f where e.cuser_id=f.cuser_id
	</select>

	<!-- 分页SQL语句 -->
	<select id="selectAllCount" resultType="java.lang.Integer">
		select count(*) from
		job_info
		e,company_user f where
		e.cuser_id=f.cuser_id


	</select>
	<select id="selectAllPage" resultMap="Job_conn_Company"
		parameterType="java.lang.Integer">
		select e.*,f.* from
		job_info
		e,company_user f where
		e.cuser_id=f.cuser_id limit
		#{0},#{1}
	</select>




	<select id="selectByJobId" resultMap="Job_conn_Company">
		select e.*,f.* from
		job_info
		e,company_user f where e.cuser_id=f.cuser_id and job_id=#{id}

	</select>

	<select id="searchLikeName" resultMap="Job_conn_Company"
		parameterType="java.lang.String">
		select e.*,f.* from
		job_info
		e,company_user f where
		e.cuser_id=f.cuser_id and e.job_name like concat('%',#{name},'%')

	</select>
	<select id="selectByCuserId" resultMap="Job_conn_Company"
		parameterType="java.lang.Integer">
		select e.*,f.* from job_info
		e,company_user f where e.cuser_id=f.cuser_id and
		e.cuser_id=#{cuserId,jdbcType=INTEGER}
	</select>
	<update id="updateByJobid" parameterType="com.chinasofti.model.Job_info" > update job_info set 
				job_name = #{jobName,jdbcType=VARCHAR},			
				job_sal = #{jobSal,jdbcType=VARCHAR},			
				job_year = #{jobYear,jdbcType=VARCHAR},			
				job_edu = #{jobEdu,jdbcType=VARCHAR},			
	where job_id = #{jobId,jdbcType=INTEGER}
	</update>

</mapper>